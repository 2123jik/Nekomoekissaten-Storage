[Script Info]
Title: BOCCHI_OP_EFFECT
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: TV.601
PlayResX: 1280
PlayResY: 720
LayoutResX: 1280
LayoutResY: 720

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,微软雅黑,75,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,0,5,10,10,10,1
Style: OPJP,A P-OTF Bunkyu MidasiG Std EB,53,&H00FFFFFF,&H000000FF,&H000364F3,&H00000000,0,0,0,0,100,100,4,0,1,2,0,2,10,10,20,1
Style: OPCH,Source Han Sans CN Heavy,53,&H00FFFFFF,&H000000FF,&H000364F3,&H00000000,0,0,0,0,100,100,4,0,1,2,0,8,10,10,20,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:05.76,0:00:07.26,OPJP,AutoTags,0,0,0,code once,function AutoTags(Intervalo,Dato1,Dato2,Doto3,Pause,st,et)    st = st or 0 et = et or line.duration Pause = Pause or 0           local tags=""           local SUERTE = 0           local CONTADOR = 0           local ARREGLO = {Dato1,Dato2}           local count = math.ceil((et-st)/(Intervalo+Pause))           for i = 1, count do               CONTADOR = i               if Dato1 and Dato2 then                   if CONTADOR%2 ==0 then                       SUERTE = ARREGLO[1]                   else                       SUERTE = ARREGLO[2]                   end               end               if Doto3                   then              tags = tags .."\\t(" ..st+(i-1)*(Intervalo+Pause).. "," ..(i~=count and st+i*Intervalo+Pause*(i-1) or et) .. ",\\" ..(i~=count and SUERTE or Doto3)..")"..""                   else              tags = tags .."\\t(" ..st+(i-1)*(Intervalo+Pause).. "," ..st+i*Intervalo+Pause*(i-1).. ",\\" ..SUERTE..")"..""                end          end           return tags       end
Comment: 0,0:00:00.00,0:00:05.00,OPJP,循环嵌套定义,0,0,0,code once,function multiloop(tbl,multi)         local function loop_no(tbl)                          local loop={}                          local sum=0                          for i=1,#tbl                           do                              sum=sum+tbl[i]                                     for  t=1,tbl[i]                                            do                                               loop[#loop+1]={j1=t,j2=i,maxj1=tbl[i],maxj2=#tbl}                                               end                                        end                         return loop,sum                 end                  if _G.type(tbl)=="number"  and  _G.type(multi)=="number"                     then                       maxloop(tbl)                         maxj1=tbl/multi                     maxj2=multi                     j1=math.fmod(j-1,maxj1)+1                     j2=math.floor((j-1)/maxj1)+1             elseif  _G.type(tbl)=="table"                   then                       local new_tbl={}                         for i=1,#tbl                            do                             if  tbl[i]>0                              then                             new_tbl[#new_tbl+1]=tbl[i]                          end                          if  j==1                                    then                                        loop,max=loop_no(new_tbl)                          end                                       maxloop(max)                               j1=loop[j].j1                                j2=loop[j].j2                                 maxj1=loop[j].maxj1                                 maxj2=loop[j].maxj2                            end                            else                            _G.error("tbl for loop have to be a number or a table value:输入的循环参数必须是一个数值或者一个表" , 2)                           end                   return ""               end
Comment: 0,0:00:00.00,0:00:05.00,OPJP,音节顺序重置1外-内 2内-外,0,0,0,code syl noblank all,function resyl(mode)  local mi=0 if mode==1          then        if line.kara.n%2~=0            then                if syl.i>math.ceil(line.kara.n/2)                    then                        mi=line.kara.n-syl.i+1                   else                       mi=syl.i                   end     elseif line.kara.n%2==0        then           if syl.i>line.kara.n/2               then                   mi=line.kara.n-syl.i+1               else                   mi=syl.i               end           end       elseif mode==2          then                if line.kara.n%2~=0                   then                       if syl.i<line.kara.n/2                           then                       mi=math.ceil(line.kara.n/2)-syl.i+1                          else                        mi=syl.i-math.ceil(line.kara.n/2)+1                       end               elseif line.kara.n%2==0                   then                       if syl.i<=line.kara.n/2                           then                          mi=line.kara.n/2-syl.i+1                     else                       mi=syl.i-line.kara.n/2                  end                    end             end                 return mi         end
Comment: 0,0:01:39.70,0:01:41.70,OPJP,随机,0,0,0,code syl noblank all,function ranex(tbl)  return (math.random(0.5,1)-1)*2*math.random(tbl[1],tbl[2]) end
Comment: 0,0:00:00.00,0:00:00.00,OPJP,分辨率,0,0,0,code once,sc=math.ceil(_G.aegisub.video_size()/130)  ms=33
Comment: 0,0:04:41.80,0:04:41.84,OPJP,颜色,0,0,0,code once,color_all={"&H792FE7&","&H737373&","&H95FFFE&"} cm=color_all[1] cb="&HFFFFFF&" cs=color_all[3] ce=color_all[2]  color_change={"&H1E1FE8&","&H0CFFFA&","&HF1AB2B&"}  color_changes={"&HC3C3F8&","&HC2FFFE&","&HEFDDBE&"}
Comment: 0,0:03:05.06,0:03:07.06,OPJP,,0,0,0,,
Comment: 0,0:03:25.10,0:03:27.10,OPJP,特效群A,0,0,0,code syl noblank all,fxgroup.A=(line.actor=="A") fxgroup.AV=(line.actor=="A" and syl.i==1)  rect_w=math.ceil(math.random(line.width*0.2,line.width*0.4))  rect_h=math.ceil(math.random(line.height*0.1,line.height*0.2))
Comment: 0,0:00:52.43,0:00:52.47,OPJP,随机坐标,0,0,0,code syl noblank all,ranpos={}  local count=math.ceil(line.duration/ms/2) for i=1,count do xpos=line.left+syl.center+((i<math.ceil(count*0.1) or i>math.ceil(count*0.9)) and ranex({sc*0.7,sc*0.3}) or math.random(-sc/10,sc/10))  ypos=line.middle+((i<math.ceil(count*0.1) or i>math.ceil(count*0.9)) and ranex({sc*0.7,sc*0.3}) or math.random(-sc/10,sc/10))  if i<math.ceil(count*0.1) or i>math.ceil(count*0.9) then c=color_change[math.random(#color_change)] cms=c css=c ces=c  blur=sc/10  shad=0 else cms=cm  css=cs ces=ce blur=5/sc  shad=sc/4 end       ranpos[#ranpos+1]={x=xpos,y=ypos,r=math.random(-sc/10,sc/10),cm=cms,cs=css,ce=ces,sc=math.random(95,105),blur=blur,shad=shad} end
Comment: 1,0:03:07.20,0:03:07.25,OPJP,文字,0,0,0,template syl noblank fxgroup A all,!maxloop(math.ceil($ldur/ms/2))!!retime("preline",(j-1)/maxj*$ldur,j/maxj*$ldur)!{\frz!ranpos[j].r!\fscx!ranpos[j].sc!\fscy!ranpos[j].sc!\an5\pos(!ranpos[j].x!,!ranpos[j].y!)\bord0\blur!ranpos[j].blur!\shad!ranpos[j].shad!\1c!ranpos[j].cm!\3c!ranpos[j].ce!\4c!ranpos[j].cs!}
Comment: 0,0:03:39.11,0:03:39.15,OPJP,彩条进场,0,0,0,template syl noblank notext fxgroup AV all,!maxloop(math.ceil(line.duration/ms/2*0.1))!!retime("preline",(j-1)/maxj*$ldur*0.1,(j-0)/maxj*$ldur*0.1)!!relayer(math.random(2))!{\an7\pos(!math.round($lcenter+ranex({$lwidth*0.2,$lwidth*0.3}),2)!,!math.round($lmiddle+ranex({$lheight*0.2,$lheight*0.3}),2)!)\1c!color_change[math.random(#color_change)]!\bord0\alpha!_G.ass_alpha(math.random(120,180))!\p1}m -!rect_w! -!rect_h! l !rect_w! -!rect_h! l !rect_w! !rect_h! l -!rect_w! !rect_h!
Comment: 0,0:03:45.78,0:03:45.83,OPJP,彩条退场,0,0,0,template syl noblank notext fxgroup AV all,!maxloop(math.ceil(line.duration/ms/2*0.1))!!retime("postline",(j-1)/maxj*$ldur*0.1-$ldur*0.1,(j-0)/maxj*$ldur*0.1-$ldur*0.1)!!relayer(math.random(2))!{\an7\pos(!math.round($lcenter+ranex({$lwidth*0.2,$lwidth*0.3}),2)!,!math.round($lmiddle+ranex({$lheight*0.2,$lheight*0.3}),2)!)\1c!color_change[math.random(#color_change)]!\bord0\alpha!_G.ass_alpha(math.random(120,180))!\p1}m -!rect_w! -!rect_h! l !rect_w! -!rect_h! l !rect_w! !rect_h! l -!rect_w! !rect_h!
Comment: 0,0:03:07.25,0:03:07.30,OPJP,,0,0,0,,
Comment: 0,0:00:00.00,0:00:00.00,OPJP,特效群H,0,0,0,code syl noblank all,fxgroup.H=(line.actor=="H")  fxgroup.HV=(line.actor=="H" and syl.i==1 )
Comment: 0,0:00:00.00,0:00:00.00,OPJP,随机坐标,0,0,0,code syl noblank all,ranpos_h={}  local count=math.ceil(syl.duration/ms/2) for i=1,count do ranpos_h[#ranpos_h+1]={x=line.left+syl.center+math.random(-sc/10,sc/10),y=line.middle+math.random(-sc/10,sc/10),sc=math.random(90,120),c=color_change[math.random(#color_change)]} end
Comment: 0,0:00:00.00,0:00:00.00,OPJP,文字进场,0,0,0,template syl noblank fxgroup H all,!retime("start2syl",($si-1)/$syln*600,0)!{\alpha!_G.ass_alpha(155)!\an5\pos(!$scenter!,!$smiddle!)\1c!cm!\3c!cb!\bord0\blur!sc/20!\shad!sc/5!\4c!cs!\fscx20\fscy20\t(0,100,0.8,\fscx115\fscy115\t(100,200,1.2,\fscx95\fscy95\t(200,300,0.8,\fscx100\fscy100)))}
Comment: 1,0:00:00.00,0:00:00.00,OPJP,文字闪烁层,0,0,0,template syl noblank fxgroup H all,!maxloop(math.ceil($sdur/ms/2))!!retime("presyl",(j-1)/maxj*$sdur,j/maxj*$sdur)!{\fscx!ranpos_h[j].sc!\fscy!ranpos_h[j].sc!\an5\pos(!ranpos_h[j].x!,!ranpos_h[j].y!)\frz!ranpos_h[j].r!\bord!sc/4!\blur!sc/15!\1c!j%2==0 and cm or cb!\3c!j%2==0 and cb or cm!\4c!cm!\shad!sc/4!}
Comment: 0,0:00:00.00,0:00:00.00,OPCH,文字闪烁层-背景,0,0,0,template syl noblank fxgroup H all,!maxloop(math.ceil($sdur/ms/2))!!retime("presyl",(j-1)/maxj*$sdur,j/maxj*$sdur)!{\fscx!ranpos_h[j].sc!\fscy!ranpos_h[j].sc!\1a&HFF&\fad(0,0)\an5\pos(!ranpos_h[j].x!,!ranpos_h[j].y!)\frz!ranpos_h[j].r!\bord!sc*0.6!\blur!sc*1.2!\3c!cm!}
Comment: 0,0:00:00.00,0:00:00.00,OPJP,文字停留,0,0,0,template syl noblank fxgroup H all,!retime("syl2end",0,0)!{\an5\pos(!$scenter!,!$smiddle!)\1c!cm!\4c!cs!\bord0\blur!5/sc!\shad!sc/4!\fscx120\fscy120\t(0,80,0.8,\fscx90\fscy90\t(80,160,1.2,\fscx110\fscy110\t(160,240,0.8,\fscx100\fscy100)))}
Comment: 0,0:00:00.00,0:00:00.00,OPJP,闪电函数,0,0,0,code once,function Lighting(x1,y1,x2,y2,displace,curDetail,thickness_min,thickness_max) pos_table = {} pos_table_temp = {} shape_table = {} shape_table_reverse = {} local function drawLightning(x1,y1,x2,y2,displace) if (displace < curDetail) then pos_table[#pos_table+1] = {x1,y1,x2,y2} else local mid_x = (x1+x2)/2 local mid_y = (y1+y2)/2 mid_x = mid_x + (math.random(0,1)-0.5) * displace mid_y = mid_y + (math.random(0,1)-0.5) * displace drawLightning(x1,y1,mid_x,mid_y,displace/2) drawLightning(mid_x,mid_y,x2,y2,displace/2) end end do drawLightning(x1,y1,x2,y2,displace) end for var=1,#pos_table do shape_table[var] = _G.table.concat(pos_table[var]," ",3,4) pos_table_temp[var] = {} pos_table_temp[var][3] = pos_table[var][3] pos_table_temp[var][4] = pos_table[var][4]+math.random(thickness_min,thickness_max) shape_table_reverse[#pos_table-var+1] = _G.table.concat(pos_table_temp[var]," ",3,4) end return string.format("m %d %d l ",x1,y1).._G.table.concat(shape_table," ").." ".._G.table.concat(shape_table_reverse," ") end
Comment: 2,0:00:00.00,0:00:00.00,OPJP,闪电,0,0,0,template syl noblank notext fxgroup H all,!maxloop(math.ceil($sdur/ms))!!retime("presyl",(j-1)/maxj*($sdur),j/maxj*($sdur))!{\an7\pos(!$scenter!,$lmiddle)\p1\bord!sc*0.15!\blur!sc*0.3!\3c&HC2F9F8&\alpha!_G.ass_alpha(math.random(30))!}!Lighting(math.random(-$swidth/2,$swidth/2),-$sheight/2,math.random(-$swidth/2,$swidth/2),math.random($sheight/2,$sheight*1.15/2),sc*4,2,sc/5,sc/2)!
Comment: 0,0:04:41.63,0:04:41.67,OPJP,,0,0,0,template syl noblank notext fxgroup H all,!multiloop(math.ceil($sdur/ms/2)*6,6)!!retime("presyl",(j1-1)/maxj1*($sdur),j1/maxj1*($sdur))!{\an7\pos(!$scenter!,!$smiddle!)\frz!360*j2/maxj2+math.random(-5,5)+ranex({5,10})!\p1\bord!sc*0.15!\blur!sc*0.3!\fscy!math.random(sc*5,sc*8)!\3c&HC2F9F8&\alpha!_G.ass_alpha(math.random(30))!}m -1 -!math.random(sc*3,sc*5)+sc*0.6! l 1 -!math.random(sc*3,sc*5)+sc*0.6! l 1 -!math.random(sc*3,sc*5)! l -1 -!math.random(sc*3,sc*5)!
Comment: 0,0:04:25.87,0:04:25.91,OPJP,,0,0,0,,
Comment: 0,0:03:07.05,0:03:09.56,OPJP,A,0,0,0,karaoke,{\k1}暗{\k1}く{\k1}狭{\k1}い{\k1}の{\k1}が{\k1}好{\k1}き{\k1}だ{\k1}っ{\k1}た
Comment: 0,0:03:09.56,0:03:12.09,OPJP,A,0,0,0,karaoke,{\k1}深{\k1}く{\k1}被{\k1}る{\k1}フ{\k1}ー{\k1}ド{\k1}の{\k1}中
Comment: 0,0:03:12.09,0:03:14.64,OPJP,A,0,0,0,karaoke,{\k1}無{\k1}情{\k1}な{\k1}世{\k1}界{\k1}を{\k1}恨{\k1}ん{\k1}だ{\k1}目{\k1}は
Comment: 0,0:03:14.64,0:03:18.40,OPJP,A,0,0,0,karaoke,{\k1}ど{\k1}う{\k1}し{\k1}よ{\k1}う{\k1}も{\k1}な{\k1}く{\k1}愛{\k1}を{\k1}欲{\k1}し{\k1}て{\k1}た
Comment: 0,0:03:22.18,0:03:24.69,OPJP,A,0,0,0,karaoke,{\k1}雨{\k1}に{\k1}濡{\k1}れ{\k1}る{\k1}の{\k1}が{\k1}好{\k1}き{\k1}だ{\k1}っ{\k1}た
Comment: 0,0:03:24.69,0:03:27.26,OPJP,A,0,0,0,karaoke,{\k1}曇{\k1}っ{\k1}た{\k1}顔{\k1}が{\k1}似{\k1}合{\k1}う{\k1}か{\k1}ら
Comment: 0,0:03:27.26,0:03:29.74,OPJP,A,0,0,0,karaoke,{\k1}嵐{\k1}に{\k1}怯{\k1}え{\k1}て{\k1}る{\k1}フ{\k1}リ{\k1}を{\k1}し{\k1}て
Comment: 0,0:03:29.74,0:03:32.65,OPJP,A,0,0,0,karaoke,{\k1}空{\k1}が{\k1}割{\k1}れ{\k1}る{\k1}の{\k1}を{\k1}待{\k1}っ{\k1}て{\k1}い{\k1}た{\k1}ん{\k1}だ
Comment: 0,0:03:33.70,0:03:37.17,OPJP,H,0,0,0,karaoke,{\k69}か{\k60}き{\k63}鳴{\k61}ら{\k94}せ
Comment: 0,0:03:37.17,0:03:43.85,OPJP,H,0,0,0,karaoke,{\k102}光{\k25}の{\k8}フ{\k9}ァ{\k47}ズ{\k56}で{\k0}　{\k42}雷{\k31}鳴{\k59}を{\k0}　{\k101}轟{\k30}か{\k64}せ{\k9}た{\k11}い{\k11}ん{\k63}だ
Comment: 0,0:03:43.85,0:03:47.32,OPJP,H,0,0,0,karaoke,{\k61}打{\k65}ち{\k62}鳴{\k59}ら{\k100}せ
Comment: 0,0:03:47.32,0:03:49.84,OPJP,H,0,0,0,karaoke,{\k63}痛{\k32}み{\k22}の{\k66}先{\k69}へ
Comment: 0,0:03:49.84,0:03:53.94,OPJP,H,0,0,0,karaoke,{\k10}ど{\k32}う{\k12}し{\k8}よ{\k9}う{\k53}！{\k0}　{\k36}大{\k27}暴{\k33}走{\k35}獰{\k30}猛{\k31}な{\k32}鼓{\k28}動{\k34}を
Comment: 0,0:03:53.94,0:03:57.40,OPJP,H,0,0,0,karaoke,{\k62}か{\k60}き{\k68}鳴{\k61}ら{\k95}せ
Comment: 0,0:03:57.40,0:03:59.91,OPJP,H,0,0,0,karaoke,{\k66}交{\k31}わ{\k31}る{\k38}カ{\k16}ル{\k9}テ{\k10}ッ{\k50}ト
Comment: 0,0:03:59.91,0:04:03.97,OPJP,H,0,0,0,karaoke,{\k34}革{\k34}命{\k62}を{\k0}　{\k23}成{\k24}し{\k16}遂{\k32}げ{\k31}て{\k64}み{\k6}た{\k28}い{\k52}な
Comment: 0,0:04:03.97,0:04:07.49,OPJP,H,0,0,0,karaoke,{\k68}打{\k65}ち{\k62}鳴{\k59}ら{\k98}せ
Comment: 0,0:04:07.49,0:04:10.02,OPJP,H,0,0,0,karaoke,{\k70}嘆{\k30}き{\k30}の{\k8}フ{\k41}ォ{\k13}ル{\k61}テ
Comment: 0,0:04:10.02,0:04:14.64,OPJP,H,0,0,0,karaoke,{\k10}ど{\k32}う{\k12}し{\k8}よ{\k9}う{\k53}！{\k0}　{\k37}超{\k30}奔{\k30}放{\k33}凶{\k35}暴{\k30}な{\k25}本{\k38}性{\k80}を
Comment: 0,0:03:07.05,0:03:09.56,OPCH,A,0,0,0,karaoke,{\k1}深{\k1}爱{\k1}着{\k1}黑{\k1}暗{\k1}狭{\k1}窄
Comment: 0,0:03:09.56,0:03:12.09,OPCH,A,0,0,0,karaoke,{\k1}于{\k1}兜{\k1}帽{\k1}之{\k1}中
Comment: 0,0:03:12.09,0:03:14.64,OPCH,A,0,0,0,karaoke,{\k1}痛{\k1}恨{\k1}着{\k1}无{\k1}情{\k1}世{\k1}界{\k1}的{\k1}双{\k1}目
Comment: 0,0:03:14.64,0:03:18.40,OPCH,A,0,0,0,karaoke,{\k1}无{\k1}可{\k1}救{\k1}药{\k1}地{\k1}渴{\k1}望{\k1}着{\k1}爱
Comment: 0,0:03:22.18,0:03:24.69,OPCH,A,0,0,0,karaoke,{\k1}深{\k1}爱{\k1}着{\k1}被{\k1}雨{\k1}浸{\k1}湿
Comment: 0,0:03:24.69,0:03:27.26,OPCH,A,0,0,0,karaoke,{\k1}因{\k1}其{\k1}和{\k1}忧{\k1}郁{\k1}的{\k1}神{\k1}情{\k1}相{\k1}称
Comment: 0,0:03:27.26,0:03:29.74,OPCH,A,0,0,0,karaoke,{\k1}装{\k1}作{\k1}害{\k1}怕{\k1}狂{\k1}风{\k1}暴{\k1}雨
Comment: 0,0:03:29.74,0:03:32.65,OPCH,A,0,0,0,karaoke,{\k1}期{\k1}待{\k1}着{\k1}天{\k1}空{\k1}破{\k1}碎
Comment: 0,0:03:33.70,0:03:37.17,OPCH,H,0,0,0,karaoke,{\k57}拨{\k57}响{\k57}吧
Comment: 0,0:03:37.17,0:03:43.85,OPCH,H,0,0,0,karaoke,{\k22}想{\k22}用{\k22}光{\k22}芒{\k22}的{\k22}F{\k22}u{\k22}z{\k22}z{\k22}  {\k22}让{\k22}雷{\k22}鸣{\k22}轰{\k22}动
Comment: 0,0:03:43.85,0:03:47.32,OPCH,H,0,0,0,karaoke,{\k57}敲{\k57}响{\k57}吧
Comment: 0,0:03:47.32,0:03:49.84,OPCH,H,0,0,0,karaoke,{\k18}向{\k18}着{\k18}痛{\k18}苦{\k18}的{\k18}彼{\k18}方
Comment: 0,0:03:49.84,0:03:53.94,OPCH,H,0,0,0,karaoke,{\k13}我{\k13}该{\k13}如{\k13}何{\k13}处{\k13}置{\k13}！  {\k13}这{\k13}失{\k13}控{\k13}的{\k13}凶{\k13}暴{\k13}心{\k13}跳
Comment: 0,0:03:53.94,0:03:57.40,OPCH,H,0,0,0,karaoke,{\k57}拨{\k57}响{\k57}吧
Comment: 0,0:03:57.40,0:03:59.91,OPCH,H,0,0,0,karaoke,{\k20}交{\k20}错{\k20}的{\k20}四{\k20}重{\k20}奏
Comment: 0,0:03:59.91,0:04:03.97,OPCH,H,0,0,0,karaoke,{\k25}掀{\k25}起{\k25}革{\k25}命{\k25}席{\k25}卷{\k25}一{\k25}切
Comment: 0,0:04:03.97,0:04:07.49,OPCH,H,0,0,0,karaoke,{\k58}敲{\k58}响{\k58}吧
Comment: 0,0:04:07.49,0:04:10.02,OPCH,H,0,0,0,karaoke,{\k25}悲{\k25}叹{\k25}的{\k25}强{\k25}音
Comment: 0,0:04:10.02,0:04:14.64,OPCH,H,0,0,0,karaoke,{\k15}我{\k15}该{\k15}如{\k15}何{\k15}处{\k15}置{\k15}？  {\k15}这{\k15}不{\k15}羁{\k15}的{\k15}凶{\k15}暴{\k15}本{\k15}性
